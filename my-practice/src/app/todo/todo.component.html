<div class="todo-wrapper">
  <div>
    <input type="text" placeholder="Add new task" [(ngModel)]="newTaskTitle" (keyup.enter)="addTask()">
    <button type="button" (click)="addTask()" *ngIf="newTaskTitle">Add Task</button>
  </div>

  <div class="task-list">
    <div *ngFor="let task of tasks; let i = index" class="task">
      <input type="checkbox" [(ngModel)]="task.completed">
      <span *ngIf="editingTaskIndex !== i" [class.completed]="task.completed">{{ task.title }}</span>
      <input *ngIf="editingTaskIndex === i" type="text" [(ngModel)]="task.title" (keyup.enter)="saveTask(i, task.title)"
        (blur)="saveTask(i, task.title)">
      <button type="button" (click)="editingTaskIndex === i ? saveTask(i, task.title) : toggleEditing(i)" class="edit">
        {{ editingTaskIndex === i ? 'Save' : 'Edit' }}
      </button>
      <button type="button" (click)="deleteTask(i)" class="delete">Delete</button>
    </div>
  </div>
</div>